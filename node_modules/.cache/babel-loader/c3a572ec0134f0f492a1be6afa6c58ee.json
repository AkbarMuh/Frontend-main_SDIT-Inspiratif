{"ast":null,"code":"import _asyncToGenerator from\"A:/University/AbdiMas/Frontend-React-MySQL-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"A:/University/AbdiMas/Frontend-React-MySQL-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"A:/University/AbdiMas/Frontend-React-MySQL-main/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditUser=function EditUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),NIK=_useState4[0],setNIK=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"Male\"),_useState8=_slicedToArray(_useState7,2),gender=_useState8[0],setGender=_useState8[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;useEffect(function(){getUserById();},[]);var updateUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.patch(\"http://localhost:5000/users/\".concat(id),{name:name,email:email,gender:gender});case 4:navigate(\"/\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function updateUser(_x){return _ref.apply(this,arguments);};}();var getUserById=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://localhost:5000/users/\".concat(id));case 2:response=_context2.sent;setName(response.data.name);setEmail(response.data.email);setGender(response.data.gender);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getUserById(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"columns mt-5 is-centered\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateUser,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:name,onChange:function onChange(e){return setName(e.target.value);},placeholder:\"Name\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"NIK\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:NIK,onChange:function onChange(e){return setNIK(e.target.value);},placeholder:\"NIK\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Email\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Gender\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"select is-fullwidth\",children:/*#__PURE__*/_jsxs(\"select\",{value:gender,onChange:function onChange(e){return setGender(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Female\",children:\"Female\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success\",children:\"Update\"})})]})})});};export default EditUser;","map":{"version":3,"sources":["A:/University/AbdiMas/Frontend-React-MySQL-main/src/components/EditUser.js"],"names":["React","useState","useEffect","axios","useNavigate","useParams","EditUser","name","setName","NIK","setNIK","email","setEmail","gender","setGender","navigate","id","getUserById","updateUser","e","preventDefault","patch","console","log","get","response","data","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nconst EditUser = () => {\n  const [name, setName] = useState(\"\");\n  const [NIK,setNIK] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [gender, setGender] = useState(\"Male\");\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  useEffect(() => {\n    getUserById();\n  }, []);\n\n  const updateUser = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.patch(`http://localhost:5000/users/${id}`, {\n        name,\n        email,\n        gender,\n      });\n      navigate(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getUserById = async () => {\n    const response = await axios.get(`http://localhost:5000/users/${id}`);\n    setName(response.data.name);\n    setEmail(response.data.email);\n    setGender(response.data.gender);\n  };\n\n  return (\n    <div className=\"columns mt-5 is-centered\">\n      <div className=\"column is-half\">\n        <form onSubmit={updateUser}>\n          <div className=\"field\">\n            <label className=\"label\">Name</label>\n            <div className=\"control\">\n              <input\n                type=\"text\"\n                className=\"input\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"Name\"\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">NIK</label>\n            <div className=\"control\">\n              <input\n                type=\"text\"\n                className=\"input\"\n                value={NIK}\n                onChange={(e) => setNIK(e.target.value)}\n                placeholder=\"NIK\"\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">Email</label>\n            <div className=\"control\">\n              <input\n                type=\"text\"\n                className=\"input\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"Email\"\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">Gender</label>\n            <div className=\"control\">\n              <div className=\"select is-fullwidth\">\n                <select\n                  value={gender}\n                  onChange={(e) => setGender(e.target.value)}\n                >\n                  <option value=\"Male\">Male</option>\n                  <option value=\"Female\">Female</option>\n                </select>\n              </div>\n            </div>\n          </div>\n          <div className=\"field\">\n            <button type=\"submit\" className=\"button is-success\">\n              Update\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default EditUser;\n"]},"metadata":{},"sourceType":"module"}